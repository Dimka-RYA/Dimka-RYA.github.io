# Настройка Formspree для отправки форм

Чтобы настроить отправку формы обратной связи на email, в проекте используется сервис [Formspree](https://formspree.io) - это простой и надежный способ отправки форм с сайта на email без необходимости настройки собственного сервера.

## 1. Создание аккаунта Formspree

1. Перейдите на [сайт Formspree](https://formspree.io) и зарегистрируйте бесплатный аккаунт.
2. Войдите в личный кабинет.

## 2. Создание новой формы

1. В панели управления Formspree нажмите кнопку "New Form" (Новая форма).
2. Введите название формы, например "Контактная форма", "Форма заказа услуги" и т.д.
3. Выберите бесплатный план "Free" (ограничение 50 отправок в месяц).
4. Нажмите "Create Form" (Создать форму).

## 3. Настройка формы

После создания формы вы получите уникальный ID формы, который выглядит как `xpwdbdkj` (это пример, ваш ID будет другим).

1. Скопируйте этот ID формы.
2. В настройках формы вы можете:
   - Указать email для получения сообщений
   - Настроить перенаправление после отправки
   - Включить защиту от спама
   - Настроить уведомления

## 4. Настройка проекта

Для настройки проекта необходимо обновить ID формы во всех файлах с формами:

### Страница контактов (src/screens/Contacts/Contacts.tsx)

```typescript
const FORMSPREE_FORM_ID = "ваш-уникальный-id"; // Замените на ваш ID формы
```

### Страница детального описания услуги (src/screens/Services/ServiceDetail.tsx)

```typescript
const FORMSPREE_FORM_ID = "ваш-уникальный-id"; // Замените на ваш ID формы
```

### Секция с картой (src/screens/Screen/sections/BottomByAnima/BottomByAnima.tsx)

```typescript
const FORMSPREE_FORM_ID = "ваш-уникальный-id"; // Замените на ваш ID формы
```

## 5. Данные, отправляемые в формах

### Контактная форма:
- `name` - имя отправителя
- `phone` - телефон отправителя
- `email` - email отправителя
- `message` - сообщение
- `_subject` - тема письма: "Новая заявка от [имя]"
- `_template` - шаблон для оформления письма (table)
- `_captcha` - отключение/включение капчи

### Форма заказа услуг:
- `name` - имя отправителя
- `phone` - телефон отправителя
- `email` - email отправителя
- `address` - адрес объекта
- `service` - название услуги
- `serviceOption` - тип услуги (стандартный/премиум пакет)
- `message` - дополнительная информация
- `_subject` - тема письма: "Заявка на услугу: [название услуги]"
- `_template` - шаблон для оформления письма (table)
- `_captcha` - отключение/включение капчи

### Мини-форма на карте:
- `name` - имя отправителя
- `phone` - телефон отправителя
- `service` - выбранная услуга
- `_subject` - тема письма: "Быстрая заявка: [название услуги]"
- `_template` - шаблон для оформления письма (table)
- `_captcha` - отключение/включение капчи

## 6. Улучшение внешнего вида писем

Для создания более презентабельных писем в Formspree мы использовали следующие специальные поля:

- `_template: "table"` - форматирует письмо в виде аккуратной таблицы
- `_captcha: "false"` - отключает капчу (может быть включена при необходимости)

Также можно использовать другие поля для настройки внешнего вида писем:

### HTML-шаблон (для платного тарифа)

Если у вас платный тариф Formspree, можно создать полностью кастомный HTML-шаблон письма:

```typescript
_template: "custom",
_honeypot: "",
_cc: "копия@mail.ru",
_bcc: "скрытая-копия@mail.ru",
_replyto: "${email}"
```

### Брендирование (для платного тарифа)

В платной версии можно добавить логотип компании и фирменные цвета в шаблон письма через настройки в личном кабинете.

## 7. Тестирование

После внесения изменений, протестируйте все формы обратной связи:
1. Заполните все обязательные поля формы
2. Нажмите кнопку "Отправить"
3. Проверьте, что уведомление об успешной отправке появляется
4. Проверьте, что письмо приходит на указанный в Formspree email в улучшенном формате таблицы

## Преимущества Formspree

- Быстрая настройка без программирования бэкенда
- Защита от спама
- Бесплатный план с лимитом 50 отправок в месяц
- Возможность экспорта полученных данных
- Настраиваемые уведомления
- Перенаправление после отправки формы

## Дополнительная информация

- [Документация Formspree](https://help.formspree.io/)
- [API Formspree](https://help.formspree.io/developers)
- [Ценовые планы](https://formspree.io/plans) (при необходимости больше 50 отправок в месяц) 